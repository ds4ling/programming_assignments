<!DOCTYPE html>
<html lang="" xml:lang="">
  <head>
    <title>Programming Assigment 5</title>
    <meta charset="utf-8" />
    <meta name="author" content="Jorge Vargas-Mutizabal &amp; Valeria Carbone" />
    <script src="libs/header-attrs-2.29/header-attrs.js"></script>
    <link href="libs/remark-css-0.0.1/hygge.css" rel="stylesheet" />
    <link href="libs/remark-css-0.0.1/rutgers.css" rel="stylesheet" />
    <link href="libs/remark-css-0.0.1/rutgers-fonts.css" rel="stylesheet" />
  </head>
  <body>
    <textarea id="source">
class: center, middle, inverse, title-slide

.title[
# Programming Assigment 5
]
.author[
### Jorge Vargas-Mutizabal &amp; Valeria Carbone
]
.institute[
### Rutgers - The State University of New Jersey
]
.date[
### 2016/12/12 (updated: 2025-04-28)
]

---


##We uploaded the libraries below:

```
## here() starts at /Users/jorgevargasmutizabal/Desktop/pa5
```

```
## ── Attaching core tidyverse packages ──────────────────────── tidyverse 2.0.0 ──
## ✔ dplyr     1.1.4     ✔ readr     2.1.5
## ✔ forcats   1.0.0     ✔ stringr   1.5.1
## ✔ ggplot2   3.5.1     ✔ tibble    3.2.1
## ✔ lubridate 1.9.4     ✔ tidyr     1.3.1
## ✔ purrr     1.0.2     
## ── Conflicts ────────────────────────────────────────── tidyverse_conflicts() ──
## ✖ dplyr::filter() masks stats::filter()
## ✖ dplyr::lag()    masks stats::lag()
## ℹ Use the conflicted package (&lt;http://conflicted.r-lib.org/&gt;) to force all conflicts to become errors
## Loading required package: Matrix
## 
## 
## Attaching package: 'Matrix'
## 
## 
## The following objects are masked from 'package:tidyr':
## 
##     expand, pack, unpack
## 
## 
## 
## Attaching package: 'lmerTest'
## 
## 
## The following object is masked from 'package:lme4':
## 
##     lmer
## 
## 
## The following object is masked from 'package:stats':
## 
##     step
```
---

##Then, we load the data


``` r
data_untidy &lt;- read.csv(here("data_raw", "ratings_data_2025-04-23.csv"))
```

---
## We used the function separate to keep the years into its own column

``` r
data_tidy1 &lt;- data_untidy |&gt;
  separate(date, into = c("year", "month", "day"), sep = "-") 
```
---
##To attempt to answer question 1, we calculated the mean for each year. We used the function summarise to get the mean enjoymen and generated a table with knitr:kable-

``` r
Table_enjoyment &lt;- data_tidy1|&gt;
  group_by(year)|&gt;
  summarise(
    mean_enjoyment = mean(enjoy)
  )

knitr::kable(Table_enjoyment)
```



|year | mean_enjoyment|
|:----|--------------:|
|2023 |      0.6726931|
|2025 |      0.7489440|

---
## Now, we will create a box plot to illustrate the difference in enjoyment between 2023 and 2025. 


``` r
data_tidy1|&gt;
  ggplot() +
  (aes(x = year, y = enjoy, fill = year))+
  geom_boxplot()+
  labs(title = "Enjoyment in 2023 and 2025",
       x = "Year", y = "Enjoyment")
```

![](index_files/figure-html/unnamed-chunk-5-1.png)&lt;!-- --&gt;
---
## Ideally, with more time, we would have liked to fit a mixed model and have year as a random effect to assess whether 23 or 25 had a bigger effect.
---
# Q2: How do difficulty ratings change over time (i.e., within a semester)?

## Over the course of the semester, we expect difficulty ratings to increase because content gets harder.

---
We attempt to plot difficulty over the course of 11 weeks


``` r
data_tidy1|&gt;
  ggplot() +
  (aes(x = week, y = enjoy)) +
  geom_point()+
  labs(title = "Difficulty over the semester",
       x = "Weeks", y = "Difficulty")
```

![](index_files/figure-html/unnamed-chunk-6-1.png)&lt;!-- --&gt;




---
#Testing models (We follow previous class example)
##Our null model will have difficulty as a fixed effect and student (id) as a random effect

``` r
null_model &lt;- lmer(difficulty ~ 1 + (1 | id), data = data_tidy1)
summary(null_model)
```

```
## Linear mixed model fit by REML. t-tests use Satterthwaite's method [
## lmerModLmerTest]
## Formula: difficulty ~ 1 + (1 | id)
##    Data: data_tidy1
## 
## REML criterion at convergence: -45.9
## 
## Scaled residuals: 
##     Min      1Q  Median      3Q     Max 
## -2.7033 -0.5955  0.0023  0.5786  3.6858 
## 
## Random effects:
##  Groups   Name        Variance Std.Dev.
##  id       (Intercept) 0.02211  0.1487  
##  Residual             0.03685  0.1920  
## Number of obs: 195, groups:  id, 25
## 
## Fixed effects:
##             Estimate Std. Error       df t value Pr(&gt;|t|)    
## (Intercept)  0.43981    0.03387 23.04032   12.99 4.39e-12 ***
## ---
## Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1
```

---
## In this model (1), we put difficulty and week as fixed effects and student (id) as random effect

``` r
model_1 &lt;- lmer(difficulty ~ 1 + week + (1 | id), data = data_tidy1)
summary(model_1)
```

```
## Linear mixed model fit by REML. t-tests use Satterthwaite's method [
## lmerModLmerTest]
## Formula: difficulty ~ 1 + week + (1 | id)
##    Data: data_tidy1
## 
## REML criterion at convergence: -50.6
## 
## Scaled residuals: 
##     Min      1Q  Median      3Q     Max 
## -2.4669 -0.5243 -0.0120  0.5185  4.1293 
## 
## Random effects:
##  Groups   Name        Variance Std.Dev.
##  id       (Intercept) 0.02145  0.1464  
##  Residual             0.03439  0.1855  
## Number of obs: 195, groups:  id, 25
## 
## Fixed effects:
##              Estimate Std. Error        df t value Pr(&gt;|t|)    
## (Intercept) 3.522e-01  4.058e-02 5.030e+01   8.679 1.44e-11 ***
## week        1.723e-02  4.587e-03 1.772e+02   3.755 0.000235 ***
## ---
## Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1
## 
## Correlation of Fixed Effects:
##      (Intr)
## week -0.574
```
---
## In this model (2), we put difficulty and week as fixed effects and student (id) and again week as random effect to test a another possibility


``` r
model_2 &lt;-lmer(difficulty ~ 1 + week + (1 + week | id), data = data_tidy1)
summary(model_2)
```

```
## Linear mixed model fit by REML. t-tests use Satterthwaite's method [
## lmerModLmerTest]
## Formula: difficulty ~ 1 + week + (1 + week | id)
##    Data: data_tidy1
## 
## REML criterion at convergence: -67
## 
## Scaled residuals: 
##     Min      1Q  Median      3Q     Max 
## -2.6071 -0.4726 -0.0619  0.4939  3.9648 
## 
## Random effects:
##  Groups   Name        Variance  Std.Dev. Corr 
##  id       (Intercept) 0.0242891 0.15585       
##           week        0.0007029 0.02651  -0.53
##  Residual             0.0283044 0.16824       
## Number of obs: 195, groups:  id, 25
## 
## Fixed effects:
##              Estimate Std. Error        df t value Pr(&gt;|t|)    
## (Intercept)  0.334064   0.041342 20.973962   8.081 7.07e-08 ***
## week         0.021722   0.007307 20.919451   2.973  0.00728 ** 
## ---
## Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1
## 
## Correlation of Fixed Effects:
##      (Intr)
## week -0.664
```
---
##Our last step step is to compare between models (1) and (2) with the function anova and using Chi square to assess which model is the most appropiate to assess difficulty ratings over the course of the semester (weeks)

``` r
model_1 &lt;- lmer(difficulty ~ 1 + week + (1 | id), data = data_tidy1)
model_2 &lt;-lmer(difficulty ~ 1 + week + (1 + week | id), data = data_tidy1)
##anova is used to check whether adding more predictors the model is stronger
anova(model_1, model_2, "Chisq")
```

```
## refitting model(s) with ML (instead of REML)
```

```
## Data: data_tidy1
## Models:
## model_1: difficulty ~ 1 + week + (1 | id)
## model_2: difficulty ~ 1 + week + (1 + week | id)
##         npar     AIC     BIC logLik deviance  Chisq Df Pr(&gt;Chisq)    
## model_1    4 -56.518 -43.426 32.259  -64.518                         
## model_2    6 -68.191 -48.553 40.096  -80.191 15.673  2   0.000395 ***
## ---
## Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1
```

    </textarea>
<style data-target="print-only">@media screen {.remark-slide-container{display:block;}.remark-slide-scaler{box-shadow:none;}}</style>
<script src="https://remarkjs.com/downloads/remark-latest.min.js"></script>
<script>var slideshow = remark.create({
"highlightStyle": "github",
"highlightLines": true,
"countIncrementalSlides": false
});
if (window.HTMLWidgets) slideshow.on('afterShowSlide', function (slide) {
  window.dispatchEvent(new Event('resize'));
});
(function(d) {
  var s = d.createElement("style"), r = d.querySelector(".remark-slide-scaler");
  if (!r) return;
  s.type = "text/css"; s.innerHTML = "@page {size: " + r.style.width + " " + r.style.height +"; }";
  d.head.appendChild(s);
})(document);

(function(d) {
  var el = d.getElementsByClassName("remark-slides-area");
  if (!el) return;
  var slide, slides = slideshow.getSlides(), els = el[0].children;
  for (var i = 1; i < slides.length; i++) {
    slide = slides[i];
    if (slide.properties.continued === "true" || slide.properties.count === "false") {
      els[i - 1].className += ' has-continuation';
    }
  }
  var s = d.createElement("style");
  s.type = "text/css"; s.innerHTML = "@media print { .has-continuation { display: none; } }";
  d.head.appendChild(s);
})(document);
// delete the temporary CSS (for displaying all slides initially) when the user
// starts to view slides
(function() {
  var deleted = false;
  slideshow.on('beforeShowSlide', function(slide) {
    if (deleted) return;
    var sheets = document.styleSheets, node;
    for (var i = 0; i < sheets.length; i++) {
      node = sheets[i].ownerNode;
      if (node.dataset["target"] !== "print-only") continue;
      node.parentNode.removeChild(node);
    }
    deleted = true;
  });
})();
// add `data-at-shortcutkeys` attribute to <body> to resolve conflicts with JAWS
// screen reader (see PR #262)
(function(d) {
  let res = {};
  d.querySelectorAll('.remark-help-content table tr').forEach(tr => {
    const t = tr.querySelector('td:nth-child(2)').innerText;
    tr.querySelectorAll('td:first-child .key').forEach(key => {
      const k = key.innerText;
      if (/^[a-z]$/.test(k)) res[k] = t;  // must be a single letter (key)
    });
  });
  d.body.setAttribute('data-at-shortcutkeys', JSON.stringify(res));
})(document);
(function() {
  "use strict"
  // Replace <script> tags in slides area to make them executable
  var scripts = document.querySelectorAll(
    '.remark-slides-area .remark-slide-container script'
  );
  if (!scripts.length) return;
  for (var i = 0; i < scripts.length; i++) {
    var s = document.createElement('script');
    var code = document.createTextNode(scripts[i].textContent);
    s.appendChild(code);
    var scriptAttrs = scripts[i].attributes;
    for (var j = 0; j < scriptAttrs.length; j++) {
      s.setAttribute(scriptAttrs[j].name, scriptAttrs[j].value);
    }
    scripts[i].parentElement.replaceChild(s, scripts[i]);
  }
})();
(function() {
  var links = document.getElementsByTagName('a');
  for (var i = 0; i < links.length; i++) {
    if (/^(https?:)?\/\//.test(links[i].getAttribute('href'))) {
      links[i].target = '_blank';
    }
  }
})();
// adds .remark-code-has-line-highlighted class to <pre> parent elements
// of code chunks containing highlighted lines with class .remark-code-line-highlighted
(function(d) {
  const hlines = d.querySelectorAll('.remark-code-line-highlighted');
  const preParents = [];
  const findPreParent = function(line, p = 0) {
    if (p > 1) return null; // traverse up no further than grandparent
    const el = line.parentElement;
    return el.tagName === "PRE" ? el : findPreParent(el, ++p);
  };

  for (let line of hlines) {
    let pre = findPreParent(line);
    if (pre && !preParents.includes(pre)) preParents.push(pre);
  }
  preParents.forEach(p => p.classList.add("remark-code-has-line-highlighted"));
})(document);</script>

<script>
slideshow._releaseMath = function(el) {
  var i, text, code, codes = el.getElementsByTagName('code');
  for (i = 0; i < codes.length;) {
    code = codes[i];
    if (code.parentNode.tagName !== 'PRE' && code.childElementCount === 0) {
      text = code.textContent;
      if (/^\\\((.|\s)+\\\)$/.test(text) || /^\\\[(.|\s)+\\\]$/.test(text) ||
          /^\$\$(.|\s)+\$\$$/.test(text) ||
          /^\\begin\{([^}]+)\}(.|\s)+\\end\{[^}]+\}$/.test(text)) {
        code.outerHTML = code.innerHTML;  // remove <code></code>
        continue;
      }
    }
    i++;
  }
};
slideshow._releaseMath(document);
</script>
<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
(function () {
  var script = document.createElement('script');
  script.type = 'text/javascript';
  script.src  = 'https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML';
  if (location.protocol !== 'file:' && /^https?:/.test(script.src))
    script.src  = script.src.replace(/^https?:/, '');
  document.getElementsByTagName('head')[0].appendChild(script);
})();
</script>
  </body>
</html>
